# Context-free Grammars and Syntax

## Grammatical Representations

- last couple of centuries people started representing linguistic structure using **trees** or other **hierarchical** representations

### Generative Grammar and Phrase Structure

- treat human languages lie formal languages such as predicate logic
- generative process that determines admissible sequences of symbols
- languages defined by production rules that indicate options for expressing sentence parts

## Grammar Types

### Regular (Finite-State) Grammars

- production rules of form `X -> y (Z)`
  - where `X` and `(Z)` are nonterminal symbols
  - `y` is a terminal symbol
- the root symbol is `S`
- has limited expressivity

### Context-free Grammars

- context-free means that the symbol is independent from what is from what is surrounding it, and its production or expansion is solely based on the defined rules within the grammar

<img src="images/image-20231205161745971.png" alt="image-20231205161745971" style="zoom:67%;" />

- a sentence is generated by a series of rewrite operations

<img src="images/image-20231205161903561.png" alt="image-20231205161903561" style="zoom:50%;" />

---

## Constituency and Phrases

### Constituents

- a **constituent** is a language unit that can be interrupted & stand on its own
- there are many ways we could potentially break down a sentence into grammatical units
- what is the "correct" way?

<img src="images/image-20231205162203909.png" alt="image-20231205162203909" style="zoom:50%;" />

#### Constituency Tests

- more / betters tests [here](20-Context-Free-Parsing-CKY-and-Probabilistic-CFGs.md#Constituency Tests)
  
- **conjunction**: only constituents can be conjoined 
  
  - The ball [under the table] and [near the door] is red <span style="color:MediumSpringGreen">PASS</span>
    - [under the table] and [near the door] are valid constituents 
  - [The ball under] and [the truck on] the table are red <span style="color:crimson">FAIL</span>
    - [The ball under] and [the truck on] are invalid constituents 
  
- **fragments**: only constituents can stand alone as incomplete sentence utterances
  1. I saw the ball under the table. 
  2. Where?
  3. [Under the table] <span style="color:MediumSpringGreen">PASS</span>
     - [Under the table] is a valid constituent (i.e. utterance that makes sense)
  
  1. I saw the ball under the table. 
  2. Where?
  3. [The ball under] <span style="color:crimson">FAIL</span>

#### Phrase Types

- noun phrases NP
  - headed by a noun
  - may start with a determiner, include modifying adjectives, prepositional phrases, and postnominal related clauses
  - serves as arguments for prepositions or verbs, or as sentential subject
  - examples:
  - [<sub>NP</sub> The fellow I met last week]
    [<sub>NP</sub> The horse with the bit in its teeth]
    [<sub>NP</sub> Four quarters]
    [<sub>NP</sub> We]
- verb phrases VP
  - headed by a verb
  - auxiliary verbs head VPs with recursive structure
  - may include adverbial or PP modifiers
  - includes verb object arguments but not sentence subject
  - examples
    - [<sub>VP</sub> Finally took a week-long vacation ] 
    - [<sub>VP</sub> Saw the moon with a telescope ] 
    - [<sub>VP</sub> Will [<sub>VP</sub> have [<sub>VP</sub> been [<sub>VP</sub> winning ] ] ] ] 
    - [<sub>VP</sub> Left ]
- prepositional phrases PP
  - [<sub>PP</sub> On the moon ] 
  - [<sub>PP</sub> Between here and eternity ] 
  - [<sub>PP</sub> One week ago ]
- adjective phrases AP
  - [<sub>AP</sub> Red and gold ] 
  - [<sub>AP</sub> Certain to succeed ] 
  - [<sub>AP</sub> Bigger than a breadbox ] 
  - [<sub>AP</sub> Happy as a clam ]

#### Phrasal Heads

- the *head* of a phrase is the word that determines its attributes 
  - typically of the same category as the phrase (i.e. head of NP is a noun)
  - attributes of the head are shared by the phrase as a whole (i.e. tense, number)
  - relationships between heads of phrases are strongly predictive for parsing

---

## Syntactic Structure

### Complements and Adjuncts

- **complement**: syntactic elements that are **necessary to complete the meaning** of a sentence in a particular context

<img src="images/image-20231205165400978.png" alt="image-20231205165400978" style="zoom:50%;" />

- **adjunct**: **optional** elements added to phrases of a particular category

<img src="images/image-20231205165413846.png" alt="image-20231205165413846" style="zoom:50%;" />

### Compositionality

- **compositionality** is that semantic structure should mirror syntactic structure
- meaning of larger units is a function of the meaning of smaller units and the way in which they are combined

### Structural Ambiguity

- related to compositionality
- sometimes meaning differences can be traced to differences in syntactic structures

<img src="images/image-20231205165843748.png" alt="image-20231205165843748" style="zoom:50%;" />

---

## Treebank Datasets

### Treebanks

- a **treebank** is a set of linguistic tree structures that humans have assigned to texts following a set of annotation guidelines
- used for **training** & **evaluation** of syntactic parsing models
- the best-known treebank is the **Penn Treebank**

### Treebank Bracketing

- typical convention is to
  - show constituent structure as nested brackets, with spaces inserted between adjacent constituents
  - label the opening bracket of a constituent with its category

<img src="images/image-20231205170201640.png" alt="image-20231205170201640" style="zoom:50%;" />


